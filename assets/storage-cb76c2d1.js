var Ln=(t,r,c)=>{if(!r.has(t))throw TypeError("Cannot "+c)};var ve=(t,r,c)=>(Ln(t,r,"read from private field"),c?c.call(t):r.get(t)),Te=(t,r,c)=>{if(r.has(t))throw TypeError("Cannot add the same private member more than once");r instanceof WeakSet?r.add(t):r.set(t,c)},ae=(t,r,c,l)=>(Ln(t,r,"write to private field"),l?l.call(t,c):r.set(t,c),c);var on=(t,r,c,l)=>({set _(d){ae(t,r,d,c)},get _(){return ve(t,r,l)}});import{x as M,bO as Qt,bP as Jt,d as Z,z as X,m as R,bQ as Zt,aH as kn,bR as er,N as nr,B as ce,bS as Dn,bT as tr,bU as rr,bV as or,bW as ir,F as Fe,M as an,r as Me,P as le,Q as He,W as ar,n as sn,X as sr,E as _e,p as k,bX as cr,q as F,y as Ce,c as be,A as Se,D as cn,J as lr,K as fr,az as jn,ad as ye,aJ as ur,aj as ln,v as ne,a8 as dr,C as Fn,a1 as vr,a3 as ge,aD as Mn,a0 as se,a2 as hr,T as Hn,bY as Wn,bZ as Un,b_ as Kn,b$ as qn,a5 as Yn,L as gr,w as mr,aC as pr,aG as br,a9 as yr,c0 as wr,a4 as xr,u as Tn,c1 as _r,aS as Cr,c2 as Sr,ao as Ir,e as Er,bN as Rr}from"./index-f1f1bde1.js";function fn(t,r=[],c){const l={};return Object.getOwnPropertyNames(t).forEach(h=>{r.includes(h)||(l[h]=t[h])}),Object.assign(l,c)}const{cubicBezierEaseInOut:re,cubicBezierEaseOut:Ar,cubicBezierEaseIn:Or}=Qt;function Pr({overflow:t="hidden",duration:r=".3s",originalTransition:c="",leavingDelay:l="0s",foldPadding:d=!1,enterToProps:h=void 0,leaveToProps:m=void 0,reverse:y=!1}={}){const f=y?"leave":"enter",g=y?"enter":"leave";return[M(`&.fade-in-height-expand-transition-${g}-from,
 &.fade-in-height-expand-transition-${f}-to`,Object.assign(Object.assign({},h),{opacity:1})),M(`&.fade-in-height-expand-transition-${g}-to,
 &.fade-in-height-expand-transition-${f}-from`,Object.assign(Object.assign({},m),{opacity:0,marginTop:"0 !important",marginBottom:"0 !important",paddingTop:d?"0 !important":void 0,paddingBottom:d?"0 !important":void 0})),M(`&.fade-in-height-expand-transition-${g}-active`,`
 overflow: ${t};
 transition:
 max-height ${r} ${re} ${l},
 opacity ${r} ${Ar} ${l},
 margin-top ${r} ${re} ${l},
 margin-bottom ${r} ${re} ${l},
 padding-top ${r} ${re} ${l},
 padding-bottom ${r} ${re} ${l}
 ${c?","+c:""}
 `),M(`&.fade-in-height-expand-transition-${f}-active`,`
 overflow: ${t};
 transition:
 max-height ${r} ${re},
 opacity ${r} ${Or},
 margin-top ${r} ${re},
 margin-bottom ${r} ${re},
 padding-top ${r} ${re},
 padding-bottom ${r} ${re}
 ${c?","+c:""}
 `)]}var Be=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Nr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}const Lr=Object.assign(Object.assign({},Jt),{onAfterEnter:Function,onAfterLeave:Function,transformOrigin:String,blockScroll:{type:Boolean,default:!0},closeOnEsc:{type:Boolean,default:!0},onEsc:Function,autoFocus:{type:Boolean,default:!0},internalStyle:[String,Object],maskClosable:{type:Boolean,default:!0},onPositiveClick:Function,onNegativeClick:Function,onClose:Function,onMaskClick:Function}),Tr=Z({name:"DialogEnvironment",props:Object.assign(Object.assign({},Lr),{internalKey:{type:String,required:!0},to:[String,Object],onInternalAfterLeave:{type:Function,required:!0}}),setup(t){const r=X(!0);function c(){const{onInternalAfterLeave:_,internalKey:v,onAfterLeave:I}=t;_&&_(v),I&&I()}function l(_){const{onPositiveClick:v}=t;v?Promise.resolve(v(_)).then(I=>{I!==!1&&f()}):f()}function d(_){const{onNegativeClick:v}=t;v?Promise.resolve(v(_)).then(I=>{I!==!1&&f()}):f()}function h(){const{onClose:_}=t;_?Promise.resolve(_()).then(v=>{v!==!1&&f()}):f()}function m(_){const{onMaskClick:v,maskClosable:I}=t;v&&(v(_),I&&f())}function y(){const{onEsc:_}=t;_&&_()}function f(){r.value=!1}function g(_){r.value=_}return{show:r,hide:f,handleUpdateShow:g,handleAfterLeave:c,handleCloseClick:h,handleNegativeClick:d,handlePositiveClick:l,handleMaskClick:m,handleEsc:y}},render(){const{handlePositiveClick:t,handleUpdateShow:r,handleNegativeClick:c,handleCloseClick:l,handleAfterLeave:d,handleMaskClick:h,handleEsc:m,to:y,maskClosable:f,show:g}=this;return R(nr,{show:g,onUpdateShow:r,onMaskClick:h,onEsc:m,to:y,maskClosable:f,onAfterEnter:this.onAfterEnter,onAfterLeave:d,closeOnEsc:this.closeOnEsc,blockScroll:this.blockScroll,autoFocus:this.autoFocus,transformOrigin:this.transformOrigin,internalAppear:!0,internalDialog:!0},{default:()=>R(Zt,Object.assign({},kn(this.$props,er),{style:this.internalStyle,onClose:l,onNegativeClick:c,onPositiveClick:t}))})}}),Br={injectionKey:String,to:[String,Object]},$r=Z({name:"DialogProvider",props:Br,setup(){const t=X([]),r={};function c(y={}){const f=an(),g=Me(Object.assign(Object.assign({},y),{key:f,destroy:()=>{r[`n-dialog-${f}`].hide()}}));return t.value.push(g),g}const l=["info","success","warning","error"].map(y=>f=>c(Object.assign(Object.assign({},f),{type:y})));function d(y){const{value:f}=t;f.splice(f.findIndex(g=>g.key===y),1)}function h(){Object.values(r).forEach(y=>{y.hide()})}const m={create:c,destroyAll:h,info:l[0],success:l[1],warning:l[2],error:l[3]};return ce(Dn,m),ce(or,{clickedRef:tr(64),clickPositionRef:rr()}),ce(ir,t),Object.assign(Object.assign({},m),{dialogList:t,dialogInstRefs:r,handleAfterLeave:d})},render(){var t,r;return R(Fe,null,[this.dialogList.map(c=>R(Tr,fn(c,["destroy","style"],{internalStyle:c.style,to:this.to,ref:l=>{l===null?delete this.dialogInstRefs[`n-dialog-${c.key}`]:this.dialogInstRefs[`n-dialog-${c.key}`]=l},internalKey:c.key,onInternalAfterLeave:this.handleAfterLeave}))),(r=(t=this.$slots).default)===null||r===void 0?void 0:r.call(t)])}});function zr(){const t=le(Dn,null);return t===null&&He("use-dialog","No outer <n-dialog-provider /> founded."),t}const kr={closeMargin:"16px 12px",closeSize:"20px",closeIconSize:"16px",width:"365px",padding:"16px",titleFontSize:"16px",metaFontSize:"12px",descriptionFontSize:"12px"},Dr=t=>{const{textColor2:r,successColor:c,infoColor:l,warningColor:d,errorColor:h,popoverColor:m,closeIconColor:y,closeIconColorHover:f,closeIconColorPressed:g,closeColorHover:_,closeColorPressed:v,textColor1:I,textColor3:A,borderRadius:C,fontWeightStrong:N,boxShadow2:O,lineHeight:j,fontSize:$}=t;return Object.assign(Object.assign({},kr),{borderRadius:C,lineHeight:j,fontSize:$,headerFontWeight:N,iconColor:r,iconColorSuccess:c,iconColorInfo:l,iconColorWarning:d,iconColorError:h,color:m,textColor:r,closeIconColor:y,closeIconColorHover:f,closeIconColorPressed:g,closeBorderRadius:C,closeColorHover:_,closeColorPressed:v,headerTextColor:I,descriptionTextColor:A,actionTextColor:r,boxShadow:O})},jr=ar({name:"Notification",common:sn,peers:{Scrollbar:sr},self:Dr}),Fr=jr,Mr={margin:"0 0 8px 0",padding:"10px 20px",maxWidth:"720px",minWidth:"420px",iconMargin:"0 10px 0 0",closeMargin:"0 0 0 10px",closeSize:"20px",closeIconSize:"16px",iconSize:"20px",fontSize:"14px"},Hr=t=>{const{textColor2:r,closeIconColor:c,closeIconColorHover:l,closeIconColorPressed:d,infoColor:h,successColor:m,errorColor:y,warningColor:f,popoverColor:g,boxShadow2:_,primaryColor:v,lineHeight:I,borderRadius:A,closeColorHover:C,closeColorPressed:N}=t;return Object.assign(Object.assign({},Mr),{closeBorderRadius:A,textColor:r,textColorInfo:r,textColorSuccess:r,textColorError:r,textColorWarning:r,textColorLoading:r,color:g,colorInfo:g,colorSuccess:g,colorError:g,colorWarning:g,colorLoading:g,boxShadow:_,boxShadowInfo:_,boxShadowSuccess:_,boxShadowError:_,boxShadowWarning:_,boxShadowLoading:_,iconColor:r,iconColorInfo:h,iconColorSuccess:m,iconColorWarning:f,iconColorError:y,iconColorLoading:v,closeColorHover:C,closeColorPressed:N,closeIconColor:c,closeIconColorHover:l,closeIconColorPressed:d,closeColorHoverInfo:C,closeColorPressedInfo:N,closeIconColorInfo:c,closeIconColorHoverInfo:l,closeIconColorPressedInfo:d,closeColorHoverSuccess:C,closeColorPressedSuccess:N,closeIconColorSuccess:c,closeIconColorHoverSuccess:l,closeIconColorPressedSuccess:d,closeColorHoverError:C,closeColorPressedError:N,closeIconColorError:c,closeIconColorHoverError:l,closeIconColorPressedError:d,closeColorHoverWarning:C,closeColorPressedWarning:N,closeIconColorWarning:c,closeIconColorHoverWarning:l,closeIconColorPressedWarning:d,closeColorHoverLoading:C,closeColorPressedLoading:N,closeIconColorLoading:c,closeIconColorHoverLoading:l,closeIconColorPressedLoading:d,loadingColor:v,lineHeight:I,borderRadius:A})},Wr={name:"Message",common:sn,self:Hr},Ur=Wr,Kr=t=>{const{primaryColor:r,errorColor:c}=t;return{colorError:c,colorLoading:r,height:"2px"}},qr={name:"LoadingBar",common:sn,self:Kr},Yr=qr,Vn=_e("n-loading-bar"),Xn=_e("n-loading-bar-api"),Vr=k("loading-bar-container",`
 z-index: 5999;
 position: fixed;
 top: 0;
 left: 0;
 right: 0;
 height: 2px;
`,[cr({enterDuration:"0.3s",leaveDuration:"0.8s"}),k("loading-bar",`
 width: 100%;
 transition:
 max-width 4s linear,
 background .2s linear;
 height: var(--n-height);
 `,[F("starting",`
 background: var(--n-color-loading);
 `),F("finishing",`
 background: var(--n-color-loading);
 transition:
 max-width .2s linear,
 background .2s linear;
 `),F("error",`
 background: var(--n-color-error);
 transition:
 max-width .2s linear,
 background .2s linear;
 `)])]);var $e=globalThis&&globalThis.__awaiter||function(t,r,c,l){function d(h){return h instanceof c?h:new c(function(m){m(h)})}return new(c||(c=Promise))(function(h,m){function y(_){try{g(l.next(_))}catch(v){m(v)}}function f(_){try{g(l.throw(_))}catch(v){m(v)}}function g(_){_.done?h(_.value):d(_.value).then(y,f)}g((l=l.apply(t,r||[])).next())})};function ze(t,r){return`${r}-loading-bar ${r}-loading-bar--${t}`}const Xr=Z({name:"LoadingBar",props:{containerStyle:[String,Object]},setup(){const{inlineThemeDisabled:t}=Ce(),{props:r,mergedClsPrefixRef:c}=le(Vn),l=X(null),d=X(!1),h=X(!1),m=X(!1),y=X(!1);let f=!1;const g=X(!1),_=be(()=>{const{loadingBarStyle:b}=r;return b?b[g.value?"error":"loading"]:""});function v(){return $e(this,void 0,void 0,function*(){d.value=!1,m.value=!1,f=!1,g.value=!1,y.value=!0,yield ye(),y.value=!1})}function I(b=0,T=80,P="starting"){return $e(this,void 0,void 0,function*(){if(h.value=!0,yield v(),f)return;m.value=!0,yield ye();const L=l.value;L&&(L.style.maxWidth=`${b}%`,L.style.transition="none",L.offsetWidth,L.className=ze(P,c.value),L.style.transition="",L.style.maxWidth=`${T}%`)})}function A(){return $e(this,void 0,void 0,function*(){if(f||g.value)return;h.value&&(yield ye()),f=!0;const b=l.value;b&&(b.className=ze("finishing",c.value),b.style.maxWidth="100%",b.offsetWidth,m.value=!1)})}function C(){if(!(f||g.value))if(!m.value)I(100,100,"error").then(()=>{g.value=!0;const b=l.value;b&&(b.className=ze("error",c.value),b.offsetWidth,m.value=!1)});else{g.value=!0;const b=l.value;if(!b)return;b.className=ze("error",c.value),b.style.maxWidth="100%",b.offsetWidth,m.value=!1}}function N(){d.value=!0}function O(){d.value=!1}function j(){return $e(this,void 0,void 0,function*(){yield v()})}const $=Se("LoadingBar","-loading-bar",Vr,Yr,r,c),G=be(()=>{const{self:{height:b,colorError:T,colorLoading:P}}=$.value;return{"--n-height":b,"--n-color-loading":P,"--n-color-error":T}}),H=t?cn("loading-bar",void 0,G,r):void 0;return{mergedClsPrefix:c,loadingBarRef:l,started:h,loading:m,entering:d,transitionDisabled:y,start:I,error:C,finish:A,handleEnter:N,handleAfterEnter:O,handleAfterLeave:j,mergedLoadingBarStyle:_,cssVars:t?void 0:G,themeClass:H==null?void 0:H.themeClass,onRender:H==null?void 0:H.onRender}},render(){if(!this.started)return null;const{mergedClsPrefix:t}=this;return R(jn,{name:"fade-in-transition",appear:!0,onEnter:this.handleEnter,onAfterEnter:this.handleAfterEnter,onAfterLeave:this.handleAfterLeave,css:!this.transitionDisabled},{default:()=>{var r;return(r=this.onRender)===null||r===void 0||r.call(this),lr(R("div",{class:[`${t}-loading-bar-container`,this.themeClass],style:this.containerStyle},R("div",{ref:"loadingBarRef",class:[`${t}-loading-bar`],style:[this.cssVars,this.mergedLoadingBarStyle]})),[[fr,this.loading||!this.loading&&this.entering]])}})}}),Gr=Object.assign(Object.assign({},Se.props),{to:{type:[String,Object,Boolean],default:void 0},containerStyle:[String,Object],loadingBarStyle:{type:Object}}),Qr=Z({name:"LoadingBarProvider",props:Gr,setup(t){const r=ur(),c=X(null),l={start(){var h;r.value?(h=c.value)===null||h===void 0||h.start():ye(()=>{var m;(m=c.value)===null||m===void 0||m.start()})},error(){var h;r.value?(h=c.value)===null||h===void 0||h.error():ye(()=>{var m;(m=c.value)===null||m===void 0||m.error()})},finish(){var h;r.value?(h=c.value)===null||h===void 0||h.finish():ye(()=>{var m;(m=c.value)===null||m===void 0||m.finish()})}},{mergedClsPrefixRef:d}=Ce(t);return ce(Xn,l),ce(Vn,{props:t,mergedClsPrefixRef:d}),Object.assign(l,{loadingBarRef:c})},render(){var t,r;return R(Fe,null,R(ln,{disabled:this.to===!1,to:this.to||"body"},R(Xr,{ref:"loadingBarRef",containerStyle:this.containerStyle})),(r=(t=this.$slots).default)===null||r===void 0?void 0:r.call(t))}});function Jr(){const t=le(Xn,null);return t===null&&He("use-loading-bar","No outer <n-loading-bar-provider /> founded."),t}const Gn={icon:Function,type:{type:String,default:"info"},content:[String,Number,Function],showIcon:{type:Boolean,default:!0},closable:Boolean,keepAliveOnHover:Boolean,onClose:Function,onMouseenter:Function,onMouseleave:Function},Qn=_e("n-message-api"),Jn=_e("n-message-provider"),Zr=M([k("message-wrapper",`
 margin: var(--n-margin);
 z-index: 0;
 transform-origin: top center;
 display: flex;
 `,[Pr({overflow:"visible",originalTransition:"transform .3s var(--n-bezier)",enterToProps:{transform:"scale(1)"},leaveToProps:{transform:"scale(0.85)"}})]),k("message",`
 box-sizing: border-box;
 display: flex;
 align-items: center;
 transition:
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 transform .3s var(--n-bezier),
 margin-bottom .3s var(--n-bezier);
 padding: var(--n-padding);
 border-radius: var(--n-border-radius);
 flex-wrap: nowrap;
 overflow: hidden;
 max-width: var(--n-max-width);
 color: var(--n-text-color);
 background-color: var(--n-color);
 box-shadow: var(--n-box-shadow);
 `,[ne("content",`
 display: inline-block;
 line-height: var(--n-line-height);
 font-size: var(--n-font-size);
 `),ne("icon",`
 position: relative;
 margin: var(--n-icon-margin);
 height: var(--n-icon-size);
 width: var(--n-icon-size);
 font-size: var(--n-icon-size);
 flex-shrink: 0;
 `,[["default","info","success","warning","error","loading"].map(t=>F(`${t}-type`,[M("> *",`
 color: var(--n-icon-color-${t});
 transition: color .3s var(--n-bezier);
 `)])),M("> *",`
 position: absolute;
 left: 0;
 top: 0;
 right: 0;
 bottom: 0;
 `,[dr()])]),ne("close",`
 margin: var(--n-close-margin);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 flex-shrink: 0;
 `,[M("&:hover",`
 color: var(--n-close-icon-color-hover);
 `),M("&:active",`
 color: var(--n-close-icon-color-pressed);
 `)])]),k("message-container",`
 z-index: 6000;
 position: fixed;
 height: 0;
 overflow: visible;
 display: flex;
 flex-direction: column;
 align-items: center;
 `,[F("top",`
 top: 12px;
 left: 0;
 right: 0;
 `),F("top-left",`
 top: 12px;
 left: 12px;
 right: 0;
 align-items: flex-start;
 `),F("top-right",`
 top: 12px;
 left: 0;
 right: 12px;
 align-items: flex-end;
 `),F("bottom",`
 bottom: 4px;
 left: 0;
 right: 0;
 justify-content: flex-end;
 `),F("bottom-left",`
 bottom: 4px;
 left: 12px;
 right: 0;
 justify-content: flex-end;
 align-items: flex-start;
 `),F("bottom-right",`
 bottom: 4px;
 left: 0;
 right: 12px;
 justify-content: flex-end;
 align-items: flex-end;
 `)])]),eo={info:()=>R(Wn,null),success:()=>R(Un,null),warning:()=>R(Kn,null),error:()=>R(qn,null),default:()=>null},no=Z({name:"Message",props:Object.assign(Object.assign({},Gn),{render:Function}),setup(t){const{inlineThemeDisabled:r,mergedRtlRef:c}=Ce(t),{props:l,mergedClsPrefixRef:d}=le(Jn),h=Fn("Message",c,d),m=Se("Message","-message",Zr,Ur,l,d),y=be(()=>{const{type:g}=t,{common:{cubicBezierEaseInOut:_},self:{padding:v,margin:I,maxWidth:A,iconMargin:C,closeMargin:N,closeSize:O,iconSize:j,fontSize:$,lineHeight:G,borderRadius:H,iconColorInfo:b,iconColorSuccess:T,iconColorWarning:P,iconColorError:L,iconColorLoading:W,closeIconSize:q,closeBorderRadius:Y,[se("textColor",g)]:V,[se("boxShadow",g)]:Q,[se("color",g)]:ie,[se("closeColorHover",g)]:fe,[se("closeColorPressed",g)]:he,[se("closeIconColor",g)]:te,[se("closeIconColorPressed",g)]:we,[se("closeIconColorHover",g)]:Ie}}=m.value;return{"--n-bezier":_,"--n-margin":I,"--n-padding":v,"--n-max-width":A,"--n-font-size":$,"--n-icon-margin":C,"--n-icon-size":j,"--n-close-icon-size":q,"--n-close-border-radius":Y,"--n-close-size":O,"--n-close-margin":N,"--n-text-color":V,"--n-color":ie,"--n-box-shadow":Q,"--n-icon-color-info":b,"--n-icon-color-success":T,"--n-icon-color-warning":P,"--n-icon-color-error":L,"--n-icon-color-loading":W,"--n-close-color-hover":fe,"--n-close-color-pressed":he,"--n-close-icon-color":te,"--n-close-icon-color-pressed":we,"--n-close-icon-color-hover":Ie,"--n-line-height":G,"--n-border-radius":H}}),f=r?cn("message",be(()=>t.type[0]),y,{}):void 0;return{mergedClsPrefix:d,rtlEnabled:h,messageProviderProps:l,handleClose(){var g;(g=t.onClose)===null||g===void 0||g.call(t)},cssVars:r?void 0:y,themeClass:f==null?void 0:f.themeClass,onRender:f==null?void 0:f.onRender,placement:l.placement}},render(){const{render:t,type:r,closable:c,content:l,mergedClsPrefix:d,cssVars:h,themeClass:m,onRender:y,icon:f,handleClose:g,showIcon:_}=this;y==null||y();let v;return R("div",{class:[`${d}-message-wrapper`,m],onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave,style:[{alignItems:this.placement.startsWith("top")?"flex-start":"flex-end"},h]},t?t(this.$props):R("div",{class:[`${d}-message ${d}-message--${r}-type`,this.rtlEnabled&&`${d}-message--rtl`]},(v=to(f,r,d))&&_?R("div",{class:`${d}-message__icon ${d}-message__icon--${r}-type`},R(vr,null,{default:()=>v})):null,R("div",{class:`${d}-message__content`},ge(l)),c?R(Mn,{clsPrefix:d,class:`${d}-message__close`,onClick:g,absolute:!0}):null))}});function to(t,r,c){if(typeof t=="function")return t();{const l=r==="loading"?R(hr,{clsPrefix:c,strokeWidth:24,scale:.85}):eo[r]();return l?R(Hn,{clsPrefix:c,key:r},{default:()=>l}):null}}const ro=Z({name:"MessageEnvironment",props:Object.assign(Object.assign({},Gn),{duration:{type:Number,default:3e3},onAfterLeave:Function,onLeave:Function,internalKey:{type:String,required:!0},onInternalAfterLeave:Function,onHide:Function,onAfterHide:Function}),setup(t){let r=null;const c=X(!0);Yn(()=>{l()});function l(){const{duration:_}=t;_&&(r=window.setTimeout(m,_))}function d(_){_.currentTarget===_.target&&r!==null&&(window.clearTimeout(r),r=null)}function h(_){_.currentTarget===_.target&&l()}function m(){const{onHide:_}=t;c.value=!1,r&&(window.clearTimeout(r),r=null),_&&_()}function y(){const{onClose:_}=t;_&&_(),m()}function f(){const{onAfterLeave:_,onInternalAfterLeave:v,onAfterHide:I,internalKey:A}=t;_&&_(),v&&v(A),I&&I()}function g(){m()}return{show:c,hide:m,handleClose:y,handleAfterLeave:f,handleMouseleave:h,handleMouseenter:d,deactivate:g}},render(){return R(gr,{appear:!0,onAfterLeave:this.handleAfterLeave,onLeave:this.onLeave},{default:()=>[this.show?R(no,{content:this.content,type:this.type,icon:this.icon,showIcon:this.showIcon,closable:this.closable,onClose:this.handleClose,onMouseenter:this.keepAliveOnHover?this.handleMouseenter:void 0,onMouseleave:this.keepAliveOnHover?this.handleMouseleave:void 0}):null]})}}),oo=Object.assign(Object.assign({},Se.props),{to:[String,Object],duration:{type:Number,default:3e3},keepAliveOnHover:Boolean,max:Number,placement:{type:String,default:"top"},closable:Boolean,containerStyle:[String,Object]}),io=Z({name:"MessageProvider",props:oo,setup(t){const{mergedClsPrefixRef:r}=Ce(t),c=X([]),l=X({}),d={create(f,g){return h(f,Object.assign({type:"default"},g))},info(f,g){return h(f,Object.assign(Object.assign({},g),{type:"info"}))},success(f,g){return h(f,Object.assign(Object.assign({},g),{type:"success"}))},warning(f,g){return h(f,Object.assign(Object.assign({},g),{type:"warning"}))},error(f,g){return h(f,Object.assign(Object.assign({},g),{type:"error"}))},loading(f,g){return h(f,Object.assign(Object.assign({},g),{type:"loading"}))},destroyAll:y};ce(Jn,{props:t,mergedClsPrefixRef:r}),ce(Qn,d);function h(f,g){const _=an(),v=Me(Object.assign(Object.assign({},g),{content:f,key:_,destroy:()=>{var A;(A=l.value[_])===null||A===void 0||A.hide()}})),{max:I}=t;return I&&c.value.length>=I&&c.value.shift(),c.value.push(v),v}function m(f){c.value.splice(c.value.findIndex(g=>g.key===f),1),delete l.value[f]}function y(){Object.values(l.value).forEach(f=>{f.hide()})}return Object.assign({mergedClsPrefix:r,messageRefs:l,messageList:c,handleAfterLeave:m},d)},render(){var t,r,c;return R(Fe,null,(r=(t=this.$slots).default)===null||r===void 0?void 0:r.call(t),this.messageList.length?R(ln,{to:(c=this.to)!==null&&c!==void 0?c:"body"},R("div",{class:[`${this.mergedClsPrefix}-message-container`,`${this.mergedClsPrefix}-message-container--${this.placement}`],key:"message-container",style:this.containerStyle},this.messageList.map(l=>R(ro,Object.assign({ref:d=>{d&&(this.messageRefs[l.key]=d)},internalKey:l.key,onInternalAfterLeave:this.handleAfterLeave},fn(l,["destroy"],void 0),{duration:l.duration===void 0?this.duration:l.duration,keepAliveOnHover:l.keepAliveOnHover===void 0?this.keepAliveOnHover:l.keepAliveOnHover,closable:l.closable===void 0?this.closable:l.closable}))))):null)}});function ao(){const t=le(Qn,null);return t===null&&He("use-message","No outer <n-message-provider /> founded. See prerequisite in https://www.naiveui.com/en-US/os-theme/components/message for more details. If you want to use `useMessage` outside setup, please check https://www.naiveui.com/zh-CN/os-theme/components/message#Q-&-A."),t}const We=_e("n-notification-provider"),so=Z({name:"NotificationContainer",props:{scrollable:{type:Boolean,required:!0},placement:{type:String,required:!0}},setup(){const{mergedThemeRef:t,mergedClsPrefixRef:r,wipTransitionCountRef:c}=le(We),l=X(null);return mr(()=>{var d,h;c.value>0?(d=l==null?void 0:l.value)===null||d===void 0||d.classList.add("transitioning"):(h=l==null?void 0:l.value)===null||h===void 0||h.classList.remove("transitioning")}),{selfRef:l,mergedTheme:t,mergedClsPrefix:r,transitioning:c}},render(){const{$slots:t,scrollable:r,mergedClsPrefix:c,mergedTheme:l,placement:d}=this;return R("div",{ref:"selfRef",class:[`${c}-notification-container`,r&&`${c}-notification-container--scrollable`,`${c}-notification-container--${d}`]},r?R(pr,{theme:l.peers.Scrollbar,themeOverrides:l.peerOverrides.Scrollbar,contentStyle:{overflow:"hidden"}},t):t)}}),co={info:()=>R(Wn,null),success:()=>R(Un,null),warning:()=>R(Kn,null),error:()=>R(qn,null),default:()=>null},un={closable:{type:Boolean,default:!0},type:{type:String,default:"default"},avatar:Function,title:[String,Function],description:[String,Function],content:[String,Function],meta:[String,Function],action:[String,Function],onClose:{type:Function,required:!0},keepAliveOnHover:Boolean,onMouseenter:Function,onMouseleave:Function},lo=br(un),fo=Z({name:"Notification",props:un,setup(t){const{mergedClsPrefixRef:r,mergedThemeRef:c,props:l}=le(We),{inlineThemeDisabled:d,mergedRtlRef:h}=Ce(),m=Fn("Notification",h,r),y=be(()=>{const{type:g}=t,{self:{color:_,textColor:v,closeIconColor:I,closeIconColorHover:A,closeIconColorPressed:C,headerTextColor:N,descriptionTextColor:O,actionTextColor:j,borderRadius:$,headerFontWeight:G,boxShadow:H,lineHeight:b,fontSize:T,closeMargin:P,closeSize:L,width:W,padding:q,closeIconSize:Y,closeBorderRadius:V,closeColorHover:Q,closeColorPressed:ie,titleFontSize:fe,metaFontSize:he,descriptionFontSize:te,[se("iconColor",g)]:we},common:{cubicBezierEaseOut:Ie,cubicBezierEaseIn:Ke,cubicBezierEaseInOut:ee}}=c.value,{left:Pe,right:qe,top:Ye,bottom:Ve}=yr(q);return{"--n-color":_,"--n-font-size":T,"--n-text-color":v,"--n-description-text-color":O,"--n-action-text-color":j,"--n-title-text-color":N,"--n-title-font-weight":G,"--n-bezier":ee,"--n-bezier-ease-out":Ie,"--n-bezier-ease-in":Ke,"--n-border-radius":$,"--n-box-shadow":H,"--n-close-border-radius":V,"--n-close-color-hover":Q,"--n-close-color-pressed":ie,"--n-close-icon-color":I,"--n-close-icon-color-hover":A,"--n-close-icon-color-pressed":C,"--n-line-height":b,"--n-icon-color":we,"--n-close-margin":P,"--n-close-size":L,"--n-close-icon-size":Y,"--n-width":W,"--n-padding-left":Pe,"--n-padding-right":qe,"--n-padding-top":Ye,"--n-padding-bottom":Ve,"--n-title-font-size":fe,"--n-meta-font-size":he,"--n-description-font-size":te}}),f=d?cn("notification",be(()=>t.type[0]),y,l):void 0;return{mergedClsPrefix:r,showAvatar:be(()=>t.avatar||t.type!=="default"),handleCloseClick(){t.onClose()},rtlEnabled:m,cssVars:d?void 0:y,themeClass:f==null?void 0:f.themeClass,onRender:f==null?void 0:f.onRender}},render(){var t;const{mergedClsPrefix:r}=this;return(t=this.onRender)===null||t===void 0||t.call(this),R("div",{class:[`${r}-notification-wrapper`,this.themeClass],onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave,style:this.cssVars},R("div",{class:[`${r}-notification`,this.rtlEnabled&&`${r}-notification--rtl`,this.themeClass,{[`${r}-notification--closable`]:this.closable,[`${r}-notification--show-avatar`]:this.showAvatar}],style:this.cssVars},this.showAvatar?R("div",{class:`${r}-notification__avatar`},this.avatar?ge(this.avatar):this.type!=="default"?R(Hn,{clsPrefix:r},{default:()=>co[this.type]()}):null):null,this.closable?R(Mn,{clsPrefix:r,class:`${r}-notification__close`,onClick:this.handleCloseClick}):null,R("div",{ref:"bodyRef",class:`${r}-notification-main`},this.title?R("div",{class:`${r}-notification-main__header`},ge(this.title)):null,this.description?R("div",{class:`${r}-notification-main__description`},ge(this.description)):null,this.content?R("pre",{class:`${r}-notification-main__content`},ge(this.content)):null,this.meta||this.action?R("div",{class:`${r}-notification-main-footer`},this.meta?R("div",{class:`${r}-notification-main-footer__meta`},ge(this.meta)):null,this.action?R("div",{class:`${r}-notification-main-footer__action`},ge(this.action)):null):null)))}}),uo=Object.assign(Object.assign({},un),{duration:Number,onClose:Function,onLeave:Function,onAfterEnter:Function,onAfterLeave:Function,onHide:Function,onAfterShow:Function,onAfterHide:Function}),vo=Z({name:"NotificationEnvironment",props:Object.assign(Object.assign({},uo),{internalKey:{type:String,required:!0},onInternalAfterLeave:{type:Function,required:!0}}),setup(t){const{wipTransitionCountRef:r}=le(We),c=X(!0);let l=null;function d(){c.value=!1,l&&window.clearTimeout(l)}function h(C){r.value++,ye(()=>{C.style.height=`${C.offsetHeight}px`,C.style.maxHeight="0",C.style.transition="none",C.offsetHeight,C.style.transition="",C.style.maxHeight=C.style.height})}function m(C){r.value--,C.style.height="",C.style.maxHeight="";const{onAfterEnter:N,onAfterShow:O}=t;N&&N(),O&&O()}function y(C){r.value++,C.style.maxHeight=`${C.offsetHeight}px`,C.style.height=`${C.offsetHeight}px`,C.offsetHeight}function f(C){const{onHide:N}=t;N&&N(),C.style.maxHeight="0",C.offsetHeight}function g(){r.value--;const{onAfterLeave:C,onInternalAfterLeave:N,onAfterHide:O,internalKey:j}=t;C&&C(),N(j),O&&O()}function _(){const{duration:C}=t;C&&(l=window.setTimeout(d,C))}function v(C){C.currentTarget===C.target&&l!==null&&(window.clearTimeout(l),l=null)}function I(C){C.currentTarget===C.target&&_()}function A(){const{onClose:C}=t;C?Promise.resolve(C()).then(N=>{N!==!1&&d()}):d()}return Yn(()=>{t.duration&&(l=window.setTimeout(d,t.duration))}),{show:c,hide:d,handleClose:A,handleAfterLeave:g,handleLeave:f,handleBeforeLeave:y,handleAfterEnter:m,handleBeforeEnter:h,handleMouseenter:v,handleMouseleave:I}},render(){return R(jn,{name:"notification-transition",appear:!0,onBeforeEnter:this.handleBeforeEnter,onAfterEnter:this.handleAfterEnter,onBeforeLeave:this.handleBeforeLeave,onLeave:this.handleLeave,onAfterLeave:this.handleAfterLeave},{default:()=>this.show?R(fo,Object.assign({},kn(this.$props,lo),{onClose:this.handleClose,onMouseenter:this.duration&&this.keepAliveOnHover?this.handleMouseenter:void 0,onMouseleave:this.duration&&this.keepAliveOnHover?this.handleMouseleave:void 0})):null})}}),ho=M([k("notification-container",`
 z-index: 4000;
 position: fixed;
 overflow: visible;
 display: flex;
 flex-direction: column;
 align-items: flex-end;
 `,[M(">",[k("scrollbar",`
 width: initial;
 overflow: visible;
 height: -moz-fit-content !important;
 height: fit-content !important;
 max-height: 100vh !important;
 `,[M(">",[k("scrollbar-container",`
 height: -moz-fit-content !important;
 height: fit-content !important;
 max-height: 100vh !important;
 `,[k("scrollbar-content",`
 padding-top: 12px;
 padding-bottom: 33px;
 `)])])])]),F("top, top-right, top-left",`
 top: 12px;
 `,[M("&.transitioning >",[k("scrollbar",[M(">",[k("scrollbar-container",`
 min-height: 100vh !important;
 `)])])])]),F("bottom, bottom-right, bottom-left",`
 bottom: 12px;
 `,[M(">",[k("scrollbar",[M(">",[k("scrollbar-container",[k("scrollbar-content",`
 padding-bottom: 12px;
 `)])])])]),k("notification-wrapper",`
 display: flex;
 align-items: flex-end;
 margin-bottom: 0;
 margin-top: 12px;
 `)]),F("top, bottom",`
 left: 50%;
 transform: translateX(-50%);
 `,[k("notification-wrapper",[M("&.notification-transition-enter-from, &.notification-transition-leave-to",`
 transform: scale(0.85);
 `),M("&.notification-transition-leave-from, &.notification-transition-enter-to",`
 transform: scale(1);
 `)])]),F("top",[k("notification-wrapper",`
 transform-origin: top center;
 `)]),F("bottom",[k("notification-wrapper",`
 transform-origin: bottom center;
 `)]),F("top-right, bottom-right",[k("notification",`
 margin-left: 28px;
 margin-right: 16px;
 `)]),F("top-left, bottom-left",[k("notification",`
 margin-left: 16px;
 margin-right: 28px;
 `)]),F("top-right",`
 right: 0;
 `,[ke("top-right")]),F("top-left",`
 left: 0;
 `,[ke("top-left")]),F("bottom-right",`
 right: 0;
 `,[ke("bottom-right")]),F("bottom-left",`
 left: 0;
 `,[ke("bottom-left")]),F("scrollable",[F("top-right",`
 top: 0;
 `),F("top-left",`
 top: 0;
 `),F("bottom-right",`
 bottom: 0;
 `),F("bottom-left",`
 bottom: 0;
 `)]),k("notification-wrapper",`
 margin-bottom: 12px;
 `,[M("&.notification-transition-enter-from, &.notification-transition-leave-to",`
 opacity: 0;
 margin-top: 0 !important;
 margin-bottom: 0 !important;
 `),M("&.notification-transition-leave-from, &.notification-transition-enter-to",`
 opacity: 1;
 `),M("&.notification-transition-leave-active",`
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 transform .3s var(--n-bezier-ease-in),
 max-height .3s var(--n-bezier),
 margin-top .3s linear,
 margin-bottom .3s linear,
 box-shadow .3s var(--n-bezier);
 `),M("&.notification-transition-enter-active",`
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 transform .3s var(--n-bezier-ease-out),
 max-height .3s var(--n-bezier),
 margin-top .3s linear,
 margin-bottom .3s linear,
 box-shadow .3s var(--n-bezier);
 `)]),k("notification",`
 background-color: var(--n-color);
 color: var(--n-text-color);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 font-family: inherit;
 font-size: var(--n-font-size);
 font-weight: 400;
 position: relative;
 display: flex;
 overflow: hidden;
 flex-shrink: 0;
 padding-left: var(--n-padding-left);
 padding-right: var(--n-padding-right);
 width: var(--n-width);
 border-radius: var(--n-border-radius);
 box-shadow: var(--n-box-shadow);
 box-sizing: border-box;
 opacity: 1;
 `,[ne("avatar",[k("icon",{color:"var(--n-icon-color)"}),k("base-icon",{color:"var(--n-icon-color)"})]),F("show-avatar",[k("notification-main",`
 margin-left: 40px;
 width: calc(100% - 40px); 
 `)]),F("closable",[k("notification-main",[M("> *:first-child",{paddingRight:"20px"})]),ne("close",`
 position: absolute;
 top: 0;
 right: 0;
 margin: var(--n-close-margin);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `)]),ne("avatar",`
 position: absolute;
 top: var(--n-padding-top);
 left: var(--n-padding-left);
 width: 28px;
 height: 28px;
 font-size: 28px;
 display: flex;
 align-items: center;
 justify-content: center;
 `,[k("icon","transition: color .3s var(--n-bezier);")]),k("notification-main",`
 padding-top: var(--n-padding-top);
 padding-bottom: var(--n-padding-bottom);
 box-sizing: border-box;
 display: flex;
 flex-direction: column;
 margin-left: 8px;
 width: calc(100% - 8px);
 `,[k("notification-main-footer",`
 display: flex;
 align-items: center;
 justify-content: space-between;
 margin-top: 12px;
 `,[ne("meta",`
 font-size: var(--n-meta-font-size);
 transition: color .3s var(--n-bezier-ease-out);
 color: var(--n-description-text-color);
 `),ne("action",`
 cursor: pointer;
 transition: color .3s var(--n-bezier-ease-out);
 color: var(--n-action-text-color);
 `)]),ne("header",`
 font-weight: var(--n-title-font-weight);
 font-size: var(--n-title-font-size);
 transition: color .3s var(--n-bezier-ease-out);
 color: var(--n-title-text-color);
 `),ne("description",`
 margin-top: 8px;
 font-size: var(--n-description-font-size);
 white-space: pre-wrap;
 word-wrap: break-word;
 transition: color .3s var(--n-bezier-ease-out);
 color: var(--n-description-text-color);
 `),ne("content",`
 line-height: var(--n-line-height);
 margin: 12px 0 0 0;
 font-family: inherit;
 white-space: pre-wrap;
 word-wrap: break-word;
 transition: color .3s var(--n-bezier-ease-out);
 color: var(--n-text-color);
 `,[M("&:first-child",{margin:0})])])])])]);function ke(t){const c=t.split("-")[1]==="left"?"calc(-100%)":"calc(100%)",l="0";return k("notification-wrapper",[M("&.notification-transition-enter-from, &.notification-transition-leave-to",`
 transform: translate(${c}, 0);
 `),M("&.notification-transition-leave-from, &.notification-transition-enter-to",`
 transform: translate(${l}, 0);
 `)])}const Zn=_e("n-notification-api"),go=Object.assign(Object.assign({},Se.props),{containerStyle:[String,Object],to:[String,Object],scrollable:{type:Boolean,default:!0},max:Number,placement:{type:String,default:"top-right"},keepAliveOnHover:Boolean}),mo=Z({name:"NotificationProvider",props:go,setup(t){const{mergedClsPrefixRef:r}=Ce(t),c=X([]),l={},d=new Set;function h(A){const C=an(),N=()=>{d.add(C),l[C]&&l[C].hide()},O=Me(Object.assign(Object.assign({},A),{key:C,destroy:N,hide:N,deactivate:N})),{max:j}=t;if(j&&c.value.length-d.size>=j){let $=!1,G=0;for(const H of c.value){if(!d.has(H.key)){l[H.key]&&(H.destroy(),$=!0);break}G++}$||c.value.splice(G,1)}return c.value.push(O),O}const m=["info","success","warning","error"].map(A=>C=>h(Object.assign(Object.assign({},C),{type:A})));function y(A){d.delete(A),c.value.splice(c.value.findIndex(C=>C.key===A),1)}const f=Se("Notification","-notification",ho,Fr,t,r),g={create:h,info:m[0],success:m[1],warning:m[2],error:m[3],open:v,destroyAll:I},_=X(0);ce(Zn,g),ce(We,{props:t,mergedClsPrefixRef:r,mergedThemeRef:f,wipTransitionCountRef:_});function v(A){return h(A)}function I(){Object.values(c.value).forEach(A=>{A.hide()})}return Object.assign({mergedClsPrefix:r,notificationList:c,notificationRefs:l,handleAfterLeave:y},g)},render(){var t,r,c;const{placement:l}=this;return R(Fe,null,(r=(t=this.$slots).default)===null||r===void 0?void 0:r.call(t),this.notificationList.length?R(ln,{to:(c=this.to)!==null&&c!==void 0?c:"body"},R(so,{style:this.containerStyle,scrollable:this.scrollable&&l!=="top"&&l!=="bottom",placement:l},{default:()=>this.notificationList.map(d=>R(vo,Object.assign({ref:h=>{const m=d.key;h===null?delete this.notificationRefs[m]:this.notificationRefs[m]=h}},fn(d,["destroy","hide","deactivate"]),{internalKey:d.key,onInternalAfterLeave:this.handleAfterLeave,keepAliveOnHover:d.keepAliveOnHover===void 0?this.keepAliveOnHover:d.keepAliveOnHover})))})):null)}});function po(){const t=le(Zn,null);return t===null&&He("use-notification","No outer `n-notification-provider` found."),t}const bo=Z({name:"InjectionExtractor",props:{onSetup:Function},setup(t,{slots:r}){var c;return(c=t.onSetup)===null||c===void 0||c.call(t),()=>{var l;return(l=r.default)===null||l===void 0?void 0:l.call(r)}}}),yo={message:ao,notification:po,loadingBar:Jr,dialog:zr};function wo({providersAndProps:t,configProviderProps:r}){let l=wr(()=>R(_r,Tn(r),{default:()=>t.map(({type:y,Provider:f,props:g})=>R(f,Tn(g),{default:()=>R(bo,{onSetup:()=>d[y]=yo[y]()})}))}));const d={app:l};let h;return xr&&(h=document.createElement("div"),document.body.appendChild(h),l.mount(h)),Object.assign({unmount:()=>{var y;if(l===null||h===null){Cr("discrete","unmount call no need because discrete app has been unmounted");return}l.unmount(),(y=h.parentNode)===null||y===void 0||y.removeChild(h),h=null,l=null}},d)}function xo(t,{configProviderProps:r,messageProviderProps:c,dialogProviderProps:l,notificationProviderProps:d,loadingBarProviderProps:h}={}){const m=[];return t.forEach(f=>{switch(f){case"message":m.push({type:f,Provider:io,props:c});break;case"notification":m.push({type:f,Provider:mo,props:d});break;case"dialog":m.push({type:f,Provider:$r,props:l});break;case"loadingBar":m.push({type:f,Provider:Qr,props:h});break}}),wo({providersAndProps:m,configProviderProps:r})}const{message:_o,dialog:Ho,loadingBar:Wo}=xo(["message","dialog","loadingBar"]);function De(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}class Co{value;next;constructor(r){this.value=r}}var oe,me,pe;class So{constructor(){Te(this,oe,void 0);Te(this,me,void 0);Te(this,pe,void 0);this.clear()}enqueue(r){const c=new Co(r);ve(this,oe)?(ve(this,me).next=c,ae(this,me,c)):(ae(this,oe,c),ae(this,me,c)),on(this,pe)._++}dequeue(){const r=ve(this,oe);if(r)return ae(this,oe,ve(this,oe).next),on(this,pe)._--,r.value}clear(){ae(this,oe,void 0),ae(this,me,void 0),ae(this,pe,0)}get size(){return ve(this,pe)}*[Symbol.iterator](){let r=ve(this,oe);for(;r;)yield r.value,r=r.next}}oe=new WeakMap,me=new WeakMap,pe=new WeakMap;function Uo(t){if(!((Number.isInteger(t)||t===Number.POSITIVE_INFINITY)&&t>0))throw new TypeError("Expected `concurrency` to be a number from 1 and up");const r=new So;let c=0;const l=()=>{c--,r.size>0&&r.dequeue()()},d=async(y,f,g)=>{c++;const _=(async()=>y(...g))();f(_);try{await _}catch{}l()},h=(y,f,g)=>{r.enqueue(d.bind(void 0,y,f,g)),(async()=>(await Promise.resolve(),c<t&&r.size>0&&r.dequeue()()))()},m=(y,...f)=>new Promise(g=>{h(y,g,f)});return Object.defineProperties(m,{activeCount:{get:()=>c},pendingCount:{get:()=>r.size},clearQueue:{value:()=>{r.clear()}}}),m}const Ko=(...t)=>{const r=new FormData;return t.forEach(c=>{for(const l in c){const d=c[l];d!==void 0&&(d instanceof Blob?r.append(l,d,d.name):r.append(l,String(d)))}}),r},Io=t=>{const r={};return t.forEach((c,l)=>{r[l]=c}),r},Ae=async(t=0)=>new Promise(r=>{setTimeout(r,t)}),qo=(()=>{let t;return async(r="")=>{t!==r&&(t=r,Ae(1e4).then(()=>{t=void 0}),await navigator.clipboard.writeText(r),_o.success("复制成功"))}})(),Eo=t=>(...r)=>t()(...r),Ro=Eo(()=>{var t;return(t=window.__NetworkExtension__)==null?void 0:t.GM_xmlhttpRequest}),Ao=()=>{var t;return!!((t=window.__NetworkExtension__)!=null&&t.GM_xmlhttpRequest)},Oo=(t="")=>{const r=new Headers;return t.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(l){return l.startsWith(`
`)?l.substring(1):l}).forEach(function(l){var m;let d=l.split(":"),h=(m=d.shift())==null?void 0:m.trim();if(h){let y=d.join(":").trim();try{r.append(h,y)}catch{}}}),r},Po=(t="")=>{try{return t===""&&location.href?location.href:t}catch{return t}},No=async(t,r={},c={})=>{var g;const l=new Request(t,r).clone();if((g=l.signal)!=null&&g.aborted)throw new DOMException("Aborted","AbortError");const d=l.method.toUpperCase(),h=Po(l.url),m=new Headers(l.headers);new Headers(r.headers).forEach((_,v)=>{m.set(v,_)});let y=!1,f;return d!="GET"&&r.body&&(typeof r.body=="string"||r.body instanceof URLSearchParams?f=r.body:r.body instanceof FormData?(f=r.body,m.delete("content-type")):(y=!0,f=await l.blob())),new Promise((_,v)=>{var N;let I={method:d,url:h,headers:Io(m),data:f,binary:y,responseType:"blob",async onload(O){let j;O.response instanceof Blob&&O.response.size==0||(j=O.response??O.responseText),await Ae();const $=new Response(j,{status:O.status,statusText:O.statusText,headers:Oo(O.responseHeaders)});Object.defineProperty($,"url",{value:O.finalUrl}),_($)},async onerror(){await Ae(),v(new TypeError("Network request onerror failed"))},async ontimeout(){await Ae(),v(new TypeError("Network request ontimeout failed"))},async onabort(){await Ae(),v(new DOMException("Aborted","AbortError"))},async onreadystatechange(O){var j;O.readyState===4&&((j=l.signal)==null||j.removeEventListener("abort",C))}};typeof c=="function"?I=c(I):I={...I,...c};const A=Ro(I);function C(){A.abort()}(N=l.signal)==null||N.addEventListener("abort",C)})},Lo=new Set([location.origin,"https://cdn.jsdelivr.net","https://fastly.jsdelivr.net","https://raw.githubusercontent.com","https://raw.githubusercontents.com","https://raw.gitmirror.com"]),To=t=>(t=new URL(t),t.hostname=="127.0.0.1"||t.hostname=="localhost"||location.protocol=="http:"&&t.protocol=="http:"&&t.hostname.split(".").every(r=>Number.isSafeInteger(parseInt(r)))?!0:Lo.has(t.origin)),Bo=/^https:\/\/github\.com\/gkd-kit\/inspect\/files\/([0-9]+)\/file\.zip$/,$o=/^https:\/\/github\.com\/gkd-kit\/inspect\/assets\/([0-9]+)\/([0-9a-z\-]+)$/,Yo=t=>{t=t.toString();const{1:r}=t.match(Bo)||[],{1:c,2:l}=t.match($o)||[];if(r)return location.origin+Sr.resolve({path:`/import/${r}`}).href;if(c&&l)return`https://m.gkd.li/${c}/${l}`;throw new Error(`github url ${t} should come from gkd-kit/inspect files/assets`)},Vo=async(t,r,c)=>{const l=new Request(t),d=new URL(l.url);if(To(d))return fetch(t,{...r,mode:"cors"});if(Ao())return No(t,r);if(c!=null&&c.proxy){const h=new URL("https://proxy-workers.lisonge.workers.dev/");h.searchParams.set("proxyUrl",d.href);const m=new Request(t,r);return fetch(h,{method:m.method,headers:m.headers,body:m.body})}else throw Ir.networkErrorDlgVisible=!0,new Error("gm is not supported")};var et={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(t,r){(function(c){t.exports=c()})(function(){return function c(l,d,h){function m(g,_){if(!d[g]){if(!l[g]){var v=typeof De=="function"&&De;if(!_&&v)return v(g,!0);if(y)return y(g,!0);var I=new Error("Cannot find module '"+g+"'");throw I.code="MODULE_NOT_FOUND",I}var A=d[g]={exports:{}};l[g][0].call(A.exports,function(C){var N=l[g][1][C];return m(N||C)},A,A.exports,c,l,d,h)}return d[g].exports}for(var y=typeof De=="function"&&De,f=0;f<h.length;f++)m(h[f]);return m}({1:[function(c,l,d){(function(h){var m=h.MutationObserver||h.WebKitMutationObserver,y;if(m){var f=0,g=new m(C),_=h.document.createTextNode("");g.observe(_,{characterData:!0}),y=function(){_.data=f=++f%2}}else if(!h.setImmediate&&typeof h.MessageChannel<"u"){var v=new h.MessageChannel;v.port1.onmessage=C,y=function(){v.port2.postMessage(0)}}else"document"in h&&"onreadystatechange"in h.document.createElement("script")?y=function(){var O=h.document.createElement("script");O.onreadystatechange=function(){C(),O.onreadystatechange=null,O.parentNode.removeChild(O),O=null},h.document.documentElement.appendChild(O)}:y=function(){setTimeout(C,0)};var I,A=[];function C(){I=!0;for(var O,j,$=A.length;$;){for(j=A,A=[],O=-1;++O<$;)j[O]();$=A.length}I=!1}l.exports=N;function N(O){A.push(O)===1&&!I&&y()}}).call(this,typeof Be<"u"?Be:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(c,l,d){var h=c(1);function m(){}var y={},f=["REJECTED"],g=["FULFILLED"],_=["PENDING"];l.exports=v;function v(b){if(typeof b!="function")throw new TypeError("resolver must be a function");this.state=_,this.queue=[],this.outcome=void 0,b!==m&&N(this,b)}v.prototype.catch=function(b){return this.then(null,b)},v.prototype.then=function(b,T){if(typeof b!="function"&&this.state===g||typeof T!="function"&&this.state===f)return this;var P=new this.constructor(m);if(this.state!==_){var L=this.state===g?b:T;A(P,L,this.outcome)}else this.queue.push(new I(P,b,T));return P};function I(b,T,P){this.promise=b,typeof T=="function"&&(this.onFulfilled=T,this.callFulfilled=this.otherCallFulfilled),typeof P=="function"&&(this.onRejected=P,this.callRejected=this.otherCallRejected)}I.prototype.callFulfilled=function(b){y.resolve(this.promise,b)},I.prototype.otherCallFulfilled=function(b){A(this.promise,this.onFulfilled,b)},I.prototype.callRejected=function(b){y.reject(this.promise,b)},I.prototype.otherCallRejected=function(b){A(this.promise,this.onRejected,b)};function A(b,T,P){h(function(){var L;try{L=T(P)}catch(W){return y.reject(b,W)}L===b?y.reject(b,new TypeError("Cannot resolve promise with itself")):y.resolve(b,L)})}y.resolve=function(b,T){var P=O(C,T);if(P.status==="error")return y.reject(b,P.value);var L=P.value;if(L)N(b,L);else{b.state=g,b.outcome=T;for(var W=-1,q=b.queue.length;++W<q;)b.queue[W].callFulfilled(T)}return b},y.reject=function(b,T){b.state=f,b.outcome=T;for(var P=-1,L=b.queue.length;++P<L;)b.queue[P].callRejected(T);return b};function C(b){var T=b&&b.then;if(b&&(typeof b=="object"||typeof b=="function")&&typeof T=="function")return function(){T.apply(b,arguments)}}function N(b,T){var P=!1;function L(V){P||(P=!0,y.reject(b,V))}function W(V){P||(P=!0,y.resolve(b,V))}function q(){T(W,L)}var Y=O(q);Y.status==="error"&&L(Y.value)}function O(b,T){var P={};try{P.value=b(T),P.status="success"}catch(L){P.status="error",P.value=L}return P}v.resolve=j;function j(b){return b instanceof this?b:y.resolve(new this(m),b)}v.reject=$;function $(b){var T=new this(m);return y.reject(T,b)}v.all=G;function G(b){var T=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=b.length,L=!1;if(!P)return this.resolve([]);for(var W=new Array(P),q=0,Y=-1,V=new this(m);++Y<P;)Q(b[Y],Y);return V;function Q(ie,fe){T.resolve(ie).then(he,function(te){L||(L=!0,y.reject(V,te))});function he(te){W[fe]=te,++q===P&&!L&&(L=!0,y.resolve(V,W))}}}v.race=H;function H(b){var T=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=b.length,L=!1;if(!P)return this.resolve([]);for(var W=-1,q=new this(m);++W<P;)Y(b[W]);return q;function Y(V){T.resolve(V).then(function(Q){L||(L=!0,y.resolve(q,Q))},function(Q){L||(L=!0,y.reject(q,Q))})}}},{1:1}],3:[function(c,l,d){(function(h){typeof h.Promise!="function"&&(h.Promise=c(2))}).call(this,typeof Be<"u"?Be:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(c,l,d){var h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function m(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function y(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var f=y();function g(){try{if(!f||!f.open)return!1;var e=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),o=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!e||o)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function _(e,o){e=e||[],o=o||{};try{return new Blob(e,o)}catch(i){if(i.name!=="TypeError")throw i;for(var n=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,a=new n,s=0;s<e.length;s+=1)a.append(e[s]);return a.getBlob(o.type)}}typeof Promise>"u"&&c(3);var v=Promise;function I(e,o){o&&e.then(function(n){o(null,n)},function(n){o(n)})}function A(e,o,n){typeof o=="function"&&e.then(o),typeof n=="function"&&e.catch(n)}function C(e){return typeof e!="string"&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function N(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var O="local-forage-detect-blob-support",j=void 0,$={},G=Object.prototype.toString,H="readonly",b="readwrite";function T(e){for(var o=e.length,n=new ArrayBuffer(o),a=new Uint8Array(n),s=0;s<o;s++)a[s]=e.charCodeAt(s);return n}function P(e){return new v(function(o){var n=e.transaction(O,b),a=_([""]);n.objectStore(O).put(a,"key"),n.onabort=function(s){s.preventDefault(),s.stopPropagation(),o(!1)},n.oncomplete=function(){var s=navigator.userAgent.match(/Chrome\/(\d+)/),i=navigator.userAgent.match(/Edge\//);o(i||!s||parseInt(s[1],10)>=43)}}).catch(function(){return!1})}function L(e){return typeof j=="boolean"?v.resolve(j):P(e).then(function(o){return j=o,j})}function W(e){var o=$[e.name],n={};n.promise=new v(function(a,s){n.resolve=a,n.reject=s}),o.deferredOperations.push(n),o.dbReady?o.dbReady=o.dbReady.then(function(){return n.promise}):o.dbReady=n.promise}function q(e){var o=$[e.name],n=o.deferredOperations.pop();if(n)return n.resolve(),n.promise}function Y(e,o){var n=$[e.name],a=n.deferredOperations.pop();if(a)return a.reject(o),a.promise}function V(e,o){return new v(function(n,a){if($[e.name]=$[e.name]||Pe(),e.db)if(o)W(e),e.db.close();else return n(e.db);var s=[e.name];o&&s.push(e.version);var i=f.open.apply(f,s);o&&(i.onupgradeneeded=function(u){var p=i.result;try{p.createObjectStore(e.storeName),u.oldVersion<=1&&p.createObjectStore(O)}catch(w){if(w.name==="ConstraintError")console.warn('The database "'+e.name+'" has been upgraded from version '+u.oldVersion+" to version "+u.newVersion+', but the storage "'+e.storeName+'" already exists.');else throw w}}),i.onerror=function(u){u.preventDefault(),a(i.error)},i.onsuccess=function(){var u=i.result;u.onversionchange=function(p){p.target.close()},n(u),q(e)}})}function Q(e){return V(e,!1)}function ie(e){return V(e,!0)}function fe(e,o){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),a=e.version<e.db.version,s=e.version>e.db.version;if(a&&(e.version!==o&&console.warn('The database "'+e.name+`" can't be downgraded from version `+e.db.version+" to version "+e.version+"."),e.version=e.db.version),s||n){if(n){var i=e.db.version+1;i>e.version&&(e.version=i)}return!0}return!1}function he(e){return new v(function(o,n){var a=new FileReader;a.onerror=n,a.onloadend=function(s){var i=btoa(s.target.result||"");o({__local_forage_encoded_blob:!0,data:i,type:e.type})},a.readAsBinaryString(e)})}function te(e){var o=T(atob(e.data));return _([o],{type:e.type})}function we(e){return e&&e.__local_forage_encoded_blob}function Ie(e){var o=this,n=o._initReady().then(function(){var a=$[o._dbInfo.name];if(a&&a.dbReady)return a.dbReady});return A(n,e,e),n}function Ke(e){W(e);for(var o=$[e.name],n=o.forages,a=0;a<n.length;a++){var s=n[a];s._dbInfo.db&&(s._dbInfo.db.close(),s._dbInfo.db=null)}return e.db=null,Q(e).then(function(i){return e.db=i,fe(e)?ie(e):i}).then(function(i){e.db=o.db=i;for(var u=0;u<n.length;u++)n[u]._dbInfo.db=i}).catch(function(i){throw Y(e,i),i})}function ee(e,o,n,a){a===void 0&&(a=1);try{var s=e.db.transaction(e.storeName,o);n(null,s)}catch(i){if(a>0&&(!e.db||i.name==="InvalidStateError"||i.name==="NotFoundError"))return v.resolve().then(function(){if(!e.db||i.name==="NotFoundError"&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),ie(e)}).then(function(){return Ke(e).then(function(){ee(e,o,n,a-1)})}).catch(n);n(i)}}function Pe(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function qe(e){var o=this,n={db:null};if(e)for(var a in e)n[a]=e[a];var s=$[n.name];s||(s=Pe(),$[n.name]=s),s.forages.push(o),o._initReady||(o._initReady=o.ready,o.ready=Ie);var i=[];function u(){return v.resolve()}for(var p=0;p<s.forages.length;p++){var w=s.forages[p];w!==o&&i.push(w._initReady().catch(u))}var x=s.forages.slice(0);return v.all(i).then(function(){return n.db=s.db,Q(n)}).then(function(S){return n.db=S,fe(n,o._defaultConfig.version)?ie(n):S}).then(function(S){n.db=s.db=S,o._dbInfo=n;for(var E=0;E<x.length;E++){var B=x[E];B!==o&&(B._dbInfo.db=n.db,B._dbInfo.version=n.version)}})}function Ye(e,o){var n=this;e=C(e);var a=new v(function(s,i){n.ready().then(function(){ee(n._dbInfo,H,function(u,p){if(u)return i(u);try{var w=p.objectStore(n._dbInfo.storeName),x=w.get(e);x.onsuccess=function(){var S=x.result;S===void 0&&(S=null),we(S)&&(S=te(S)),s(S)},x.onerror=function(){i(x.error)}}catch(S){i(S)}})}).catch(i)});return I(a,o),a}function Ve(e,o){var n=this,a=new v(function(s,i){n.ready().then(function(){ee(n._dbInfo,H,function(u,p){if(u)return i(u);try{var w=p.objectStore(n._dbInfo.storeName),x=w.openCursor(),S=1;x.onsuccess=function(){var E=x.result;if(E){var B=E.value;we(B)&&(B=te(B));var z=e(B,E.key,S++);z!==void 0?s(z):E.continue()}else s()},x.onerror=function(){i(x.error)}}catch(E){i(E)}})}).catch(i)});return I(a,o),a}function rt(e,o,n){var a=this;e=C(e);var s=new v(function(i,u){var p;a.ready().then(function(){return p=a._dbInfo,G.call(o)==="[object Blob]"?L(p.db).then(function(w){return w?o:he(o)}):o}).then(function(w){ee(a._dbInfo,b,function(x,S){if(x)return u(x);try{var E=S.objectStore(a._dbInfo.storeName);w===null&&(w=void 0);var B=E.put(w,e);S.oncomplete=function(){w===void 0&&(w=null),i(w)},S.onabort=S.onerror=function(){var z=B.error?B.error:B.transaction.error;u(z)}}catch(z){u(z)}})}).catch(u)});return I(s,n),s}function ot(e,o){var n=this;e=C(e);var a=new v(function(s,i){n.ready().then(function(){ee(n._dbInfo,b,function(u,p){if(u)return i(u);try{var w=p.objectStore(n._dbInfo.storeName),x=w.delete(e);p.oncomplete=function(){s()},p.onerror=function(){i(x.error)},p.onabort=function(){var S=x.error?x.error:x.transaction.error;i(S)}}catch(S){i(S)}})}).catch(i)});return I(a,o),a}function it(e){var o=this,n=new v(function(a,s){o.ready().then(function(){ee(o._dbInfo,b,function(i,u){if(i)return s(i);try{var p=u.objectStore(o._dbInfo.storeName),w=p.clear();u.oncomplete=function(){a()},u.onabort=u.onerror=function(){var x=w.error?w.error:w.transaction.error;s(x)}}catch(x){s(x)}})}).catch(s)});return I(n,e),n}function at(e){var o=this,n=new v(function(a,s){o.ready().then(function(){ee(o._dbInfo,H,function(i,u){if(i)return s(i);try{var p=u.objectStore(o._dbInfo.storeName),w=p.count();w.onsuccess=function(){a(w.result)},w.onerror=function(){s(w.error)}}catch(x){s(x)}})}).catch(s)});return I(n,e),n}function st(e,o){var n=this,a=new v(function(s,i){if(e<0){s(null);return}n.ready().then(function(){ee(n._dbInfo,H,function(u,p){if(u)return i(u);try{var w=p.objectStore(n._dbInfo.storeName),x=!1,S=w.openKeyCursor();S.onsuccess=function(){var E=S.result;if(!E){s(null);return}e===0||x?s(E.key):(x=!0,E.advance(e))},S.onerror=function(){i(S.error)}}catch(E){i(E)}})}).catch(i)});return I(a,o),a}function ct(e){var o=this,n=new v(function(a,s){o.ready().then(function(){ee(o._dbInfo,H,function(i,u){if(i)return s(i);try{var p=u.objectStore(o._dbInfo.storeName),w=p.openKeyCursor(),x=[];w.onsuccess=function(){var S=w.result;if(!S){a(x);return}x.push(S.key),S.continue()},w.onerror=function(){s(w.error)}}catch(S){s(S)}})}).catch(s)});return I(n,e),n}function lt(e,o){o=N.apply(this,arguments);var n=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var a=this,s;if(!e.name)s=v.reject("Invalid arguments");else{var i=e.name===n.name&&a._dbInfo.db,u=i?v.resolve(a._dbInfo.db):Q(e).then(function(p){var w=$[e.name],x=w.forages;w.db=p;for(var S=0;S<x.length;S++)x[S]._dbInfo.db=p;return p});e.storeName?s=u.then(function(p){if(p.objectStoreNames.contains(e.storeName)){var w=p.version+1;W(e);var x=$[e.name],S=x.forages;p.close();for(var E=0;E<S.length;E++){var B=S[E];B._dbInfo.db=null,B._dbInfo.version=w}var z=new v(function(D,K){var U=f.open(e.name,w);U.onerror=function(J){var Re=U.result;Re.close(),K(J)},U.onupgradeneeded=function(){var J=U.result;J.deleteObjectStore(e.storeName)},U.onsuccess=function(){var J=U.result;J.close(),D(J)}});return z.then(function(D){x.db=D;for(var K=0;K<S.length;K++){var U=S[K];U._dbInfo.db=D,q(U._dbInfo)}}).catch(function(D){throw(Y(e,D)||v.resolve()).catch(function(){}),D})}}):s=u.then(function(p){W(e);var w=$[e.name],x=w.forages;p.close();for(var S=0;S<x.length;S++){var E=x[S];E._dbInfo.db=null}var B=new v(function(z,D){var K=f.deleteDatabase(e.name);K.onerror=function(){var U=K.result;U&&U.close(),D(K.error)},K.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},K.onsuccess=function(){var U=K.result;U&&U.close(),z(U)}});return B.then(function(z){w.db=z;for(var D=0;D<x.length;D++){var K=x[D];q(K._dbInfo)}}).catch(function(z){throw(Y(e,z)||v.resolve()).catch(function(){}),z})})}return I(s,o),s}var ft={_driver:"asyncStorage",_initStorage:qe,_support:g(),iterate:Ve,getItem:Ye,setItem:rt,removeItem:ot,clear:it,length:at,key:st,keys:ct,dropInstance:lt};function ut(){return typeof openDatabase=="function"}var ue="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",dt="~~local_forage_type~",vn=/^~~local_forage_type~([^~]+)~/,Ne="__lfsc__:",Xe=Ne.length,Ge="arbf",Qe="blob",hn="si08",gn="ui08",mn="uic8",pn="si16",bn="si32",yn="ur16",wn="ui32",xn="fl32",_n="fl64",Cn=Xe+Ge.length,Sn=Object.prototype.toString;function In(e){var o=e.length*.75,n=e.length,a,s=0,i,u,p,w;e[e.length-1]==="="&&(o--,e[e.length-2]==="="&&o--);var x=new ArrayBuffer(o),S=new Uint8Array(x);for(a=0;a<n;a+=4)i=ue.indexOf(e[a]),u=ue.indexOf(e[a+1]),p=ue.indexOf(e[a+2]),w=ue.indexOf(e[a+3]),S[s++]=i<<2|u>>4,S[s++]=(u&15)<<4|p>>2,S[s++]=(p&3)<<6|w&63;return x}function Je(e){var o=new Uint8Array(e),n="",a;for(a=0;a<o.length;a+=3)n+=ue[o[a]>>2],n+=ue[(o[a]&3)<<4|o[a+1]>>4],n+=ue[(o[a+1]&15)<<2|o[a+2]>>6],n+=ue[o[a+2]&63];return o.length%3===2?n=n.substring(0,n.length-1)+"=":o.length%3===1&&(n=n.substring(0,n.length-2)+"=="),n}function vt(e,o){var n="";if(e&&(n=Sn.call(e)),e&&(n==="[object ArrayBuffer]"||e.buffer&&Sn.call(e.buffer)==="[object ArrayBuffer]")){var a,s=Ne;e instanceof ArrayBuffer?(a=e,s+=Ge):(a=e.buffer,n==="[object Int8Array]"?s+=hn:n==="[object Uint8Array]"?s+=gn:n==="[object Uint8ClampedArray]"?s+=mn:n==="[object Int16Array]"?s+=pn:n==="[object Uint16Array]"?s+=yn:n==="[object Int32Array]"?s+=bn:n==="[object Uint32Array]"?s+=wn:n==="[object Float32Array]"?s+=xn:n==="[object Float64Array]"?s+=_n:o(new Error("Failed to get type for BinaryArray"))),o(s+Je(a))}else if(n==="[object Blob]"){var i=new FileReader;i.onload=function(){var u=dt+e.type+"~"+Je(this.result);o(Ne+Qe+u)},i.readAsArrayBuffer(e)}else try{o(JSON.stringify(e))}catch(u){console.error("Couldn't convert value into a JSON string: ",e),o(null,u)}}function ht(e){if(e.substring(0,Xe)!==Ne)return JSON.parse(e);var o=e.substring(Cn),n=e.substring(Xe,Cn),a;if(n===Qe&&vn.test(o)){var s=o.match(vn);a=s[1],o=o.substring(s[0].length)}var i=In(o);switch(n){case Ge:return i;case Qe:return _([i],{type:a});case hn:return new Int8Array(i);case gn:return new Uint8Array(i);case mn:return new Uint8ClampedArray(i);case pn:return new Int16Array(i);case yn:return new Uint16Array(i);case bn:return new Int32Array(i);case wn:return new Uint32Array(i);case xn:return new Float32Array(i);case _n:return new Float64Array(i);default:throw new Error("Unkown type: "+n)}}var Ze={serialize:vt,deserialize:ht,stringToBuffer:In,bufferToString:Je};function En(e,o,n,a){e.executeSql("CREATE TABLE IF NOT EXISTS "+o.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,a)}function gt(e){var o=this,n={db:null};if(e)for(var a in e)n[a]=typeof e[a]!="string"?e[a].toString():e[a];var s=new v(function(i,u){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(p){return u(p)}n.db.transaction(function(p){En(p,n,function(){o._dbInfo=n,i()},function(w,x){u(x)})},u)});return n.serializer=Ze,s}function de(e,o,n,a,s,i){e.executeSql(n,a,s,function(u,p){p.code===p.SYNTAX_ERR?u.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[o.storeName],function(w,x){x.rows.length?i(w,p):En(w,o,function(){w.executeSql(n,a,s,i)},i)},i):i(u,p)},i)}function mt(e,o){var n=this;e=C(e);var a=new v(function(s,i){n.ready().then(function(){var u=n._dbInfo;u.db.transaction(function(p){de(p,u,"SELECT * FROM "+u.storeName+" WHERE key = ? LIMIT 1",[e],function(w,x){var S=x.rows.length?x.rows.item(0).value:null;S&&(S=u.serializer.deserialize(S)),s(S)},function(w,x){i(x)})})}).catch(i)});return I(a,o),a}function pt(e,o){var n=this,a=new v(function(s,i){n.ready().then(function(){var u=n._dbInfo;u.db.transaction(function(p){de(p,u,"SELECT * FROM "+u.storeName,[],function(w,x){for(var S=x.rows,E=S.length,B=0;B<E;B++){var z=S.item(B),D=z.value;if(D&&(D=u.serializer.deserialize(D)),D=e(D,z.key,B+1),D!==void 0){s(D);return}}s()},function(w,x){i(x)})})}).catch(i)});return I(a,o),a}function Rn(e,o,n,a){var s=this;e=C(e);var i=new v(function(u,p){s.ready().then(function(){o===void 0&&(o=null);var w=o,x=s._dbInfo;x.serializer.serialize(o,function(S,E){E?p(E):x.db.transaction(function(B){de(B,x,"INSERT OR REPLACE INTO "+x.storeName+" (key, value) VALUES (?, ?)",[e,S],function(){u(w)},function(z,D){p(D)})},function(B){if(B.code===B.QUOTA_ERR){if(a>0){u(Rn.apply(s,[e,w,n,a-1]));return}p(B)}})})}).catch(p)});return I(i,n),i}function bt(e,o,n){return Rn.apply(this,[e,o,n,1])}function yt(e,o){var n=this;e=C(e);var a=new v(function(s,i){n.ready().then(function(){var u=n._dbInfo;u.db.transaction(function(p){de(p,u,"DELETE FROM "+u.storeName+" WHERE key = ?",[e],function(){s()},function(w,x){i(x)})})}).catch(i)});return I(a,o),a}function wt(e){var o=this,n=new v(function(a,s){o.ready().then(function(){var i=o._dbInfo;i.db.transaction(function(u){de(u,i,"DELETE FROM "+i.storeName,[],function(){a()},function(p,w){s(w)})})}).catch(s)});return I(n,e),n}function xt(e){var o=this,n=new v(function(a,s){o.ready().then(function(){var i=o._dbInfo;i.db.transaction(function(u){de(u,i,"SELECT COUNT(key) as c FROM "+i.storeName,[],function(p,w){var x=w.rows.item(0).c;a(x)},function(p,w){s(w)})})}).catch(s)});return I(n,e),n}function _t(e,o){var n=this,a=new v(function(s,i){n.ready().then(function(){var u=n._dbInfo;u.db.transaction(function(p){de(p,u,"SELECT key FROM "+u.storeName+" WHERE id = ? LIMIT 1",[e+1],function(w,x){var S=x.rows.length?x.rows.item(0).key:null;s(S)},function(w,x){i(x)})})}).catch(i)});return I(a,o),a}function Ct(e){var o=this,n=new v(function(a,s){o.ready().then(function(){var i=o._dbInfo;i.db.transaction(function(u){de(u,i,"SELECT key FROM "+i.storeName,[],function(p,w){for(var x=[],S=0;S<w.rows.length;S++)x.push(w.rows.item(S).key);a(x)},function(p,w){s(w)})})}).catch(s)});return I(n,e),n}function St(e){return new v(function(o,n){e.transaction(function(a){a.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(s,i){for(var u=[],p=0;p<i.rows.length;p++)u.push(i.rows.item(p).name);o({db:e,storeNames:u})},function(s,i){n(i)})},function(a){n(a)})})}function It(e,o){o=N.apply(this,arguments);var n=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var a=this,s;return e.name?s=new v(function(i){var u;e.name===n.name?u=a._dbInfo.db:u=openDatabase(e.name,"","",0),e.storeName?i({db:u,storeNames:[e.storeName]}):i(St(u))}).then(function(i){return new v(function(u,p){i.db.transaction(function(w){function x(z){return new v(function(D,K){w.executeSql("DROP TABLE IF EXISTS "+z,[],function(){D()},function(U,J){K(J)})})}for(var S=[],E=0,B=i.storeNames.length;E<B;E++)S.push(x(i.storeNames[E]));v.all(S).then(function(){u()}).catch(function(z){p(z)})},function(w){p(w)})})}):s=v.reject("Invalid arguments"),I(s,o),s}var Et={_driver:"webSQLStorage",_initStorage:gt,_support:ut(),iterate:pt,getItem:mt,setItem:bt,removeItem:yt,clear:wt,length:xt,key:_t,keys:Ct,dropInstance:It};function Rt(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function An(e,o){var n=e.name+"/";return e.storeName!==o.storeName&&(n+=e.storeName+"/"),n}function At(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch{return!0}}function Ot(){return!At()||localStorage.length>0}function Pt(e){var o=this,n={};if(e)for(var a in e)n[a]=e[a];return n.keyPrefix=An(e,o._defaultConfig),Ot()?(o._dbInfo=n,n.serializer=Ze,v.resolve()):v.reject()}function Nt(e){var o=this,n=o.ready().then(function(){for(var a=o._dbInfo.keyPrefix,s=localStorage.length-1;s>=0;s--){var i=localStorage.key(s);i.indexOf(a)===0&&localStorage.removeItem(i)}});return I(n,e),n}function Lt(e,o){var n=this;e=C(e);var a=n.ready().then(function(){var s=n._dbInfo,i=localStorage.getItem(s.keyPrefix+e);return i&&(i=s.serializer.deserialize(i)),i});return I(a,o),a}function Tt(e,o){var n=this,a=n.ready().then(function(){for(var s=n._dbInfo,i=s.keyPrefix,u=i.length,p=localStorage.length,w=1,x=0;x<p;x++){var S=localStorage.key(x);if(S.indexOf(i)===0){var E=localStorage.getItem(S);if(E&&(E=s.serializer.deserialize(E)),E=e(E,S.substring(u),w++),E!==void 0)return E}}});return I(a,o),a}function Bt(e,o){var n=this,a=n.ready().then(function(){var s=n._dbInfo,i;try{i=localStorage.key(e)}catch{i=null}return i&&(i=i.substring(s.keyPrefix.length)),i});return I(a,o),a}function $t(e){var o=this,n=o.ready().then(function(){for(var a=o._dbInfo,s=localStorage.length,i=[],u=0;u<s;u++){var p=localStorage.key(u);p.indexOf(a.keyPrefix)===0&&i.push(p.substring(a.keyPrefix.length))}return i});return I(n,e),n}function zt(e){var o=this,n=o.keys().then(function(a){return a.length});return I(n,e),n}function kt(e,o){var n=this;e=C(e);var a=n.ready().then(function(){var s=n._dbInfo;localStorage.removeItem(s.keyPrefix+e)});return I(a,o),a}function Dt(e,o,n){var a=this;e=C(e);var s=a.ready().then(function(){o===void 0&&(o=null);var i=o;return new v(function(u,p){var w=a._dbInfo;w.serializer.serialize(o,function(x,S){if(S)p(S);else try{localStorage.setItem(w.keyPrefix+e,x),u(i)}catch(E){(E.name==="QuotaExceededError"||E.name==="NS_ERROR_DOM_QUOTA_REACHED")&&p(E),p(E)}})})});return I(s,n),s}function jt(e,o){if(o=N.apply(this,arguments),e=typeof e!="function"&&e||{},!e.name){var n=this.config();e.name=e.name||n.name,e.storeName=e.storeName||n.storeName}var a=this,s;return e.name?s=new v(function(i){e.storeName?i(An(e,a._defaultConfig)):i(e.name+"/")}).then(function(i){for(var u=localStorage.length-1;u>=0;u--){var p=localStorage.key(u);p.indexOf(i)===0&&localStorage.removeItem(p)}}):s=v.reject("Invalid arguments"),I(s,o),s}var Ft={_driver:"localStorageWrapper",_initStorage:Pt,_support:Rt(),iterate:Tt,getItem:Lt,setItem:Dt,removeItem:kt,clear:Nt,length:zt,key:Bt,keys:$t,dropInstance:jt},Mt=function(o,n){return o===n||typeof o=="number"&&typeof n=="number"&&isNaN(o)&&isNaN(n)},Ht=function(o,n){for(var a=o.length,s=0;s<a;){if(Mt(o[s],n))return!0;s++}return!1},On=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},Ee={},Pn={},xe={INDEXEDDB:ft,WEBSQL:Et,LOCALSTORAGE:Ft},Wt=[xe.INDEXEDDB._driver,xe.WEBSQL._driver,xe.LOCALSTORAGE._driver],Le=["dropInstance"],en=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Le),Ut={description:"",driver:Wt.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Kt(e,o){e[o]=function(){var n=arguments;return e.ready().then(function(){return e[o].apply(e,n)})}}function nn(){for(var e=1;e<arguments.length;e++){var o=arguments[e];if(o)for(var n in o)o.hasOwnProperty(n)&&(On(o[n])?arguments[0][n]=o[n].slice():arguments[0][n]=o[n])}return arguments[0]}var qt=function(){function e(o){m(this,e);for(var n in xe)if(xe.hasOwnProperty(n)){var a=xe[n],s=a._driver;this[n]=s,Ee[s]||this.defineDriver(a)}this._defaultConfig=nn({},Ut),this._config=nn({},this._defaultConfig,o),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(n){if((typeof n>"u"?"undefined":h(n))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var a in n){if(a==="storeName"&&(n[a]=n[a].replace(/\W/g,"_")),a==="version"&&typeof n[a]!="number")return new Error("Database version must be a number.");this._config[a]=n[a]}return"driver"in n&&n.driver?this.setDriver(this._config.driver):!0}else return typeof n=="string"?this._config[n]:this._config},e.prototype.defineDriver=function(n,a,s){var i=new v(function(u,p){try{var w=n._driver,x=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!n._driver){p(x);return}for(var S=en.concat("_initStorage"),E=0,B=S.length;E<B;E++){var z=S[E],D=!Ht(Le,z);if((D||n[z])&&typeof n[z]!="function"){p(x);return}}var K=function(){for(var Re=function(Xt){return function(){var Gt=new Error("Method "+Xt+" is not implemented by the current driver"),Nn=v.reject(Gt);return I(Nn,arguments[arguments.length-1]),Nn}},tn=0,Vt=Le.length;tn<Vt;tn++){var rn=Le[tn];n[rn]||(n[rn]=Re(rn))}};K();var U=function(Re){Ee[w]&&console.info("Redefining LocalForage driver: "+w),Ee[w]=n,Pn[w]=Re,u()};"_support"in n?n._support&&typeof n._support=="function"?n._support().then(U,p):U(!!n._support):U(!0)}catch(J){p(J)}});return A(i,a,s),i},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(n,a,s){var i=Ee[n]?v.resolve(Ee[n]):v.reject(new Error("Driver not found."));return A(i,a,s),i},e.prototype.getSerializer=function(n){var a=v.resolve(Ze);return A(a,n),a},e.prototype.ready=function(n){var a=this,s=a._driverSet.then(function(){return a._ready===null&&(a._ready=a._initDriver()),a._ready});return A(s,n,n),s},e.prototype.setDriver=function(n,a,s){var i=this;On(n)||(n=[n]);var u=this._getSupportedDrivers(n);function p(){i._config.driver=i.driver()}function w(E){return i._extend(E),p(),i._ready=i._initStorage(i._config),i._ready}function x(E){return function(){var B=0;function z(){for(;B<E.length;){var D=E[B];return B++,i._dbInfo=null,i._ready=null,i.getDriver(D).then(w).catch(z)}p();var K=new Error("No available storage method found.");return i._driverSet=v.reject(K),i._driverSet}return z()}}var S=this._driverSet!==null?this._driverSet.catch(function(){return v.resolve()}):v.resolve();return this._driverSet=S.then(function(){var E=u[0];return i._dbInfo=null,i._ready=null,i.getDriver(E).then(function(B){i._driver=B._driver,p(),i._wrapLibraryMethodsWithReady(),i._initDriver=x(u)})}).catch(function(){p();var E=new Error("No available storage method found.");return i._driverSet=v.reject(E),i._driverSet}),A(this._driverSet,a,s),this._driverSet},e.prototype.supports=function(n){return!!Pn[n]},e.prototype._extend=function(n){nn(this,n)},e.prototype._getSupportedDrivers=function(n){for(var a=[],s=0,i=n.length;s<i;s++){var u=n[s];this.supports(u)&&a.push(u)}return a},e.prototype._wrapLibraryMethodsWithReady=function(){for(var n=0,a=en.length;n<a;n++)Kt(this,en[n])},e.prototype.createInstance=function(n){return new e(n)},e}(),Yt=new qt;l.exports=Yt},{3:3}]},{},[4])(4)})})(et);var zo=et.exports;const je=Nr(zo),Ue=(t={})=>{t.driver??(t.driver=je.INDEXEDDB);const r=je.createInstance(t);return{keys:async()=>r.keys(),hasItem:async f=>{const g=f.toString();return r.keys().then(_=>_.includes(g))},getItem:async f=>r.getItem(f.toString()),setItem:async(f,g)=>r.setItem(f.toString(),g),removeItem:async f=>r.removeItem(f.toString()),getAllItems:async()=>Promise.all((await r.keys()).map(f=>r.getItem(f)))}},dn=(t,r)=>{const c=Me(typeof r=="function"?r():r);let l=!1;return Er(c,async()=>{l&&await je.setItem(t,Rr(c))}),je.getItem(t).then(d=>{d&&Object.assign(c,d),l=!0}),c},Oe=Ue({name:"snapshot",version:1}),ko=Oe.setItem;Oe.setItem=async(t,r)=>{const c={...r,nodes:[]};return await nt.setItem(t,c),ko(t,r)};const Do=Oe.removeItem;Oe.removeItem=async t=>{await Promise.all([Do(t),nt.removeItem(t),tt.removeItem(t)])};const nt=Ue({name:"shallowSnapshot",version:1}),tt=Ue({name:"screenshot",version:1}),Xo=async(t,r)=>{Object.entries(Bn).forEach(([c,l])=>{l==t.id&&delete Bn[c]}),$n[t.id]&&delete $n[t.id],zn[t.id]&&delete zn[t.id],await Oe.setItem(t.id,t),await tt.setItem(t.id,r)};Ue({name:"cache",version:1});const Bn=dn("url",{}),$n=dn("githubJpg",{}),zn=dn("githubZip",{});export{Oe as a,$n as b,qo as c,Ho as d,zn as e,Pr as f,Yo as g,Ao as h,tt as i,Ae as j,Be as k,Vo as l,_o as m,Wo as n,Ko as o,Uo as p,Bo as q,$o as r,nt as s,Xo as t,Bn as u,De as v,Nr as w,fn as x};
//# sourceMappingURL=storage-cb76c2d1.js.map
